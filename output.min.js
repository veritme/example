!function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var i,a=e(this),o=(new Date).getTime(),r=[],s=arguments[0],l="string"==typeof s,c=[].slice.call(arguments,1);return a.each(function(){var u,d,f,m=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),v=m.selector,g=m.namespace,h=m.className,p=m.error,b="."+g,y="module-"+g,w=a.selector||"",x="ontouchstart"in n.documentElement?"touchstart":"click",C=e(this),S=this,T=C.data(y);(f={preinitialize:function(){f.is.dimmer()?(d=C.parent(),u=C):(d=C,u=f.has.dimmer()?m.dimmerName?d.find(v.dimmer).filter("."+m.dimmerName):d.find(v.dimmer):f.create(),f.set.variation())},initialize:function(){f.debug("Initializing dimmer",m),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),T=f,C.data(y,T)},destroy:function(){f.verbose("Destroying previous module",u),f.unbind.events(),f.remove.variation(),d.off(b)},bind:{events:function(){f.is.page()&&d.get(0).addEventListener("touchmove",f.event.preventScroll,{passive:!1}),"hover"==m.on?d.on("mouseenter"+b,f.show).on("mouseleave"+b,f.hide):"click"==m.on&&d.on(x+b,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",d),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",u),d.on(x+b,v.dimmer,f.event.click))}},unbind:{events:function(){f.is.page()&&d.get(0).removeEventListener("touchmove",f.event.preventScroll,{passive:!1}),C.removeData(y),d.off(b)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===u.find(t.target).length||e(t.target).is(v.content))&&(f.hide(),t.stopImmediatePropagation())},preventScroll:function(e){e.preventDefault()}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==u[0]&&n.detach().appendTo(u)},create:function(){var t=e(m.template.dimmer());return m.dimmerName&&(f.debug("Creating named dimmer",m.dimmerName),t.addClass(m.dimmerName)),t.appendTo(d),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",u,m),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),m.onShow.call(S),m.onChange.call(S))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",u),f.animate.hide(t),m.onHide.call(S),m.onChange.call(S)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",u),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},m.useCSS&&void 0!==e.fn.transition&&u.transition("is supported")?("auto"!==m.opacity&&f.set.opacity(),u.transition({displayType:"flex",animation:m.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==m.opacity&&(m.opacity=.8),u.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),m.opacity,function(){u.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},m.useCSS&&void 0!==e.fn.transition&&u.transition("is supported")?(f.verbose("Hiding dimmer with css"),u.transition({displayType:"flex",animation:m.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),u.stop().fadeOut(f.get.duration(),function(){f.remove.active(),u.removeAttr("style"),t()}))}},get:{dimmer:function(){return u},duration:function(){return"object"==typeof m.duration?f.is.active()?m.duration.hide:m.duration.show:m.duration}},has:{dimmer:function(){return m.dimmerName?C.find(v.dimmer).filter("."+m.dimmerName).length>0:C.find(v.dimmer).length>0}},is:{active:function(){return u.hasClass(h.active)},animating:function(){return u.is(":animated")||u.hasClass(h.animating)},closable:function(){return"auto"==m.closable?"hover"!=m.on:m.closable},dimmer:function(){return C.hasClass(h.dimmer)},dimmable:function(){return C.hasClass(h.dimmable)},dimmed:function(){return d.hasClass(h.dimmed)},disabled:function(){return d.hasClass(h.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return d.is("body")},pageDimmer:function(){return u.hasClass(h.pageDimmer)}},can:{show:function(){return!u.hasClass(h.disabled)}},set:{opacity:function(e){var t=u.css("background-color"),n=t.split(","),i=n&&3==n.length,a=n&&4==n.length;e=0===m.opacity?0:m.opacity||e,i||a?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),u.css("background-color",t)},active:function(){u.addClass(h.active)},dimmable:function(){d.addClass(h.dimmable)},dimmed:function(){d.addClass(h.dimmed)},pageDimmer:function(){u.addClass(h.pageDimmer)},disabled:function(){u.addClass(h.disabled)},variation:function(e){(e=e||m.variation)&&u.addClass(e)}},remove:{active:function(){u.removeClass(h.active)},dimmed:function(){d.removeClass(h.dimmed)},disabled:function(){u.removeClass(h.disabled)},variation:function(e){(e=e||m.variation)&&u.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(void 0===n)return m[t];e.isPlainObject(m[t])?e.extend(!0,m[t],n):m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];f[t]=n}},debug:function(){!m.silent&&m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){m.silent||(f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;m.performance&&(n=(t=(new Date).getTime())-(o||t),o=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;o=!1,clearTimeout(f.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",w&&(t+=" '"+w+"'"),a.length>1&&(t+=" ("+a.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,a){var o,r,s,l=T;return n=n||c,a=S||a,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=o)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(r=l[i],!1):(f.error(p.method,t),!1);l=l[i]}})),e.isFunction(r)?s=r.apply(a,n):void 0!==r&&(s=r),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),r}}).preinitialize(),l?(void 0===T&&f.initialize(),f.invoke(s)):(void 0!==T&&T.invoke("destroy"),f.initialize())}),void 0!==i?i:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),$(document).on("click",'[data-button="remote"]',function(){var e=$(this).attr("value");$.get(e)}),$(document).on("click",'[data-button="tab"]',function(){$("#skip").css("display","none"),$("#nextup").css("display","none"),$(this).html("<i class='fa fa-spinner fa-spin'></i> espere...");var e=$(this).attr("value");$.get(e)}),$(function(){$("#will_paginate").on("click","a",function(e){return e.preventDefault(),$.getScript(this.href),!1}),$("#search").on("input",function(){var e=$("select[name=tag]").val(),t=$("select[name=sort]").val(),n="?direction="+$("select[name=direction]").val()+"&sort="+t+"&tag="+e+"&search="+this.value;return $.get(n),!1}),$("#direction").change(function(){var e=$("#search").val(),t=$("select[name=tag]").val(),n=$("select[name=sort]").val(),i="?direction="+this.value+"&sort="+n+"&tag="+t+"&search="+e;return $.get(i),!1}),$("#sort").change(function(){var e=$("#search").val(),t=$("select[name=tag]").val(),n="?direction="+$("select[name=direction]").val()+"&sort="+this.value+"&tag="+t+"&search="+e;return $.get(n),!1}),$("#tag").change(function(){var e=$("#search").val(),t=$("select[name=sort]").val(),n="?direction="+$("select[name=direction]").val()+"&sort="+t+"&tag="+$(this).val()+"&search="+e;return $.get(n),!1}),$("#season").change(function(){var e="?season="+this.value;return $.get(e),!1})});var lastScrollTop=0;$(window).scroll(function(e){var t=$(this).scrollTop();t>lastScrollTop?$(".ui.fluid.menu.top.fixed.owl-carousel").fadeOut("slow"):$(".ui.fluid.menu.top.fixed.owl-carousel").fadeIn("slow"),lastScrollTop=t}),$(document).ready(function(){$(window).keydown(function(e){if(13==e.keyCode)return e.preventDefault(),!1})}),$(document).ready(function(){$(".ui.dropdown").dropdown(),$(".ui.search.dropdown").dropdown({allowAdditions:!0,onAdd:function(e){$("#title_tag_list").val(e).find("option[value="+e+"]").attr("selected",!0)},delimiter:","}),$(".blurring.dimmable.image").dimmer({on:"hover"}),$(".btn.btn-red").tab(),$('[data-toggle="popover"]').popover(),$('[data-toggle="tooltip"]').tooltip(),$(".owl-carousel").owlCarousel({margin:10,autoWidth:!0,nav:!0,items:4,slideBy:3,dots:!1,navText:['<i class="fa fa-chevron-left" aria-hidden="true"></i>','<i class="fa fa-chevron-right" aria-hidden="true"></i>']}),$(".btn.btn-red.btn-sm.m-n").click(function(){for(var e=$(".jwplayer").length,t=0;t<e;t++)"undefined"!=typeof jwplayer&&jwplayer(t).stop()})}),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(a){var o,r=e(e.isFunction(this)?t:this),s=r.selector||"",l=(new Date).getTime(),c=[],u=a,d="string"==typeof u,f=[].slice.call(arguments,1),m=!1;return r.each(function(){var v,g,h,p,b,y,w=e.isPlainObject(a)?e.extend(!0,{},e.fn.tab.settings,a):e.extend({},e.fn.tab.settings),x=w.className,C=w.metadata,S=w.selector,T=w.error,k="."+w.namespace,A="module-"+w.namespace,E=e(this),L={},D=!0,F=0,R=this,O=E.data(A);b={initialize:function(){b.debug("Initializing tab menu item",E),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",w.context,g),w.auto&&b.set.auto(),b.bind.events(),w.history&&!m&&(b.initializeHistory(),m=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),O=b,E.data(A,b)},destroy:function(){b.debug("Destroying tabs",E),E.removeData(A).off(k)},bind:{events:function(){e.isWindow(R)||(b.debug("Attaching tab activation events to element",E),E.on("click"+k,b.event.click))}},determineTabs:function(){var t;"parent"===w.context?(0<E.closest(S.ui).length?(t=E.closest(S.ui),b.verbose("Using closest UI element as parent",t)):t=E,v=t.parent(),b.verbose("Determined parent element for creating context",v)):w.context?(v=e(w.context),b.verbose("Using selector for tab context",w.context,v)):v=e("body"),w.childrenOnly?(g=v.children(S.tabs),b.debug("Searching tab context children for tabs",v,g)):(g=v.find(S.tabs),b.debug("Searching tab context for tabs",v,g))},fix:{callbacks:function(){e.isPlainObject(a)&&(a.onTabLoad||a.onTabInit)&&(a.onTabLoad&&(a.onLoad=a.onTabLoad,delete a.onTabLoad,b.error(T.legacyLoad,a.onLoad)),a.onTabInit&&(a.onFirstLoad=a.onTabInit,delete a.onTabInit,b.error(T.legacyInit,a.onFirstLoad)),w=e.extend(!0,{},e.fn.tab.settings,a))}},initializeHistory:function(){if(b.debug("Initializing page state"),e.address===i)return b.error(T.state),!1;if("state"==w.historyType){if(b.debug("Using HTML5 to manage state"),!1===w.path)return b.error(T.path),!1;e.address.history(!0).state(w.path)}e.address.bind("change",b.event.history.change)},event:{click:function(t){var n=e(this).data(C.tab);n!==i?(w.history?(b.verbose("Updating page state",t),e.address.value(n)):(b.verbose("Changing tab",t),b.changeTab(n)),t.preventDefault()):b.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||b.get.initialPath(),a=w.templates.determineTitle(n)||!1;b.performance.display(),b.debug("History change event",n,t),y=t,n!==i&&b.changeTab(n),a&&e.address.title(a)}}},refresh:function(){h&&(b.debug("Refreshing tab",h),b.changeTab(h))},cache:{read:function(e){return e!==i&&L[e]},add:function(e,t){e=e||h,b.debug("Adding cached content for",e),L[e]=t},remove:function(e){e=e||h,b.debug("Removing cached content for",e),delete L[e]}},set:{auto:function(){var t="string"==typeof w.path?w.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(w.apiSettings)?w.apiSettings.url=t:w.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e);t.hasClass(x.loading)||(b.verbose("Setting loading state for",t),t.addClass(x.loading).siblings(g).removeClass(x.active+" "+x.loading),0<t.length&&w.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState&&w.ignoreFirstLoad&&D,a=w.auto||e.isPlainObject(w.apiSettings),o=a&&!i?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(o),e.each(o,function(t,r){var s,l,c,u,d=o.slice(0,t+1),f=b.utilities.arrayToPath(d),m=b.is.tab(f),g=t+1==o.length,S=b.get.tabElement(f);if(b.verbose("Looking for tab",r),m){if(b.verbose("Tab was found",r),h=f,p=b.utilities.filterArray(o,d),g?u=!0:(l=o.slice(0,t+2),c=b.utilities.arrayToPath(l),(u=!b.is.tab(c))&&b.verbose("Tab parameters found",l)),u&&a)return i?(b.debug("Ignoring remote content on first tab load",f),D=!1,b.cache.add(n,S.html()),b.activate.all(f),w.onFirstLoad.call(S[0],f,p,y),w.onLoad.call(S[0],f,p,y)):(b.activate.navigation(f),b.fetch.content(f,n)),!1;b.debug("Opened local tab",f),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),w.onFirstLoad.call(S[0],f,p,y)),w.onLoad.call(S[0],f,p,y)}else{if(-1!=n.search("/")||""===n)return b.error(T.missingTab,E,v,f),!1;if(f=(s=e("#"+n+', a[name="'+n+'"]')).closest("[data-tab]").data(C.tab),S=b.get.tabElement(f),s&&0<s.length&&f)return b.debug("Anchor link used, opening parent tab",S,s),S.hasClass(x.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),w.onFirstLoad.call(S[0],f,p,y)),w.onLoad.call(S[0],f,p,y),!1}})},scrollTo:function(t){var i=!!(t&&0<t.length)&&t.offset().top;!1!==i&&(b.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(t,n,a){var o=b.get.tabElement(t),r=o[0];a=a!==i?a:w.evaluateScripts,"string"==typeof w.cacheType&&"dom"==w.cacheType.toLowerCase()&&"string"!=typeof n?o.empty().append(e(n).clone(!0)):a?(b.debug("Updating HTML and evaluating inline scripts",t,n),o.html(n)):(b.debug("Updating HTML",t,n),r.innerHTML=n)}},fetch:{content:function(t,n){var a,o,r=b.get.tabElement(t),s={dataType:"html",encodeParameters:!1,on:"now",cache:w.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==w.cacheType&&b.cache.add(n,e),b.update.content(t,e),t==h?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),w.onFirstLoad.call(r[0],t,p,y),w.onLoad.call(r[0],t,p,y),w.loadOnce?b.cache.add(n,!0):"string"==typeof w.cacheType&&"dom"==w.cacheType.toLowerCase()&&0<r.children().length?setTimeout(function(){var e=r.children().clone(!0);e=e.not("script"),b.cache.add(n,e)},0):b.cache.add(n,r.html())},urlData:{tab:n}},l=r.api("get request")||!1,c=l&&"pending"===l.state();n=n||t,o=b.cache.read(n),w.cache&&o?(b.activate.tab(t),b.debug("Adding cached content",n),w.loadOnce||("once"==w.evaluateScripts?b.update.content(t,o,!1):b.update.content(t,o)),w.onLoad.call(r[0],t,p,y)):c?(b.set.loading(t),b.debug("Content is already loading",n)):e.api!==i?(a=e.extend(!0,{},w.apiSettings,s),b.debug("Retrieving remote content",n,a),b.set.loading(t),r.api(a)):b.error(T.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n="siblings"==w.deactivate?t.siblings(g):g.not(t),i=t.hasClass(x.active);b.verbose("Showing tab content for",t),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading),0<t.length&&w.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n="siblings"==w.deactivate?t.siblings(r):r.not(t),i=t.hasClass(x.active);b.verbose("Activating tab navigation for",t,e),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading))}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){r.removeClass(x.active)},tabs:function(){g.removeClass(x.active+" "+x.loading)}},is:{tab:function(e){return e!==i&&0<b.get.tabElement(e).length}},get:{initialPath:function(){return r.eq(0).data(C.tab)||g.eq(0).data(C.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=r.filter("[data-"+C.tab+'^="'+e+'/"]').eq(0).data(C.tab)||!1;if(t){if(b.debug("Found default tab",t),F<w.maxDepth)return F++,b.get.defaultPath(t);b.error(T.recursion)}else b.debug("No default tabs found for",e,g);return F=0,e},navElement:function(e){return e=e||h,r.filter("[data-"+C.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,a;return e=e||h,i=b.utilities.pathToArray(e),a=b.utilities.last(i),t=g.filter("[data-"+C.tab+'="'+e+'"]'),n=g.filter("[data-"+C.tab+'="'+a+'"]'),0<t.length?t:n},tab:function(){return h}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return e===i&&(e=h),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];e.isPlainObject(w[t])?e.extend(!0,w[t],n):w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,w.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),b.verbose.apply(console,arguments)))},error:function(){w.silent||(b.error=Function.prototype.bind.call(console.error,console,w.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var t,n;w.performance&&(n=(t=(new Date).getTime())-(l||t),l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=w.name+":",n=0;l=!1,clearTimeout(b.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&0<c.length&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,a){var r,s,l,c=O;return n=n||f,a=R||a,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,a){var o=n!=r?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=r)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==r)return c[a]!==i?s=c[a]:b.error(T.method,t),!1;c=c[a]}})),e.isFunction(s)?l=s.apply(a,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},d?(O===i&&b.initialize(),b.invoke(u)):(O!==i&&O.invoke("destroy"),b.initialize())}),o!==i?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,a=e(this),o=a.selector||"",r=(new Date).getTime(),s=[],l=arguments,c=l[0],u=[].slice.call(arguments,1),d="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return a.each(function(t){var f,m,v,g,h,p,b,y,w,x=e(this),C=this;(w={initialize:function(){f=w.get.settings.apply(C,l),g=f.className,v=f.error,h=f.metadata,y="."+f.namespace,b="module-"+f.namespace,m=x.data(b)||w,p=w.get.animationEndEvent(),d&&(d=w.invoke(c)),!1===d&&(w.verbose("Converted arguments into settings object",f),f.interval?w.delay(f.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),m=w,x.data(b,m)},destroy:function(){w.verbose("Destroying previous module for",C),x.removeData(b)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var e=x.parent(),t=x.next();0===t.length?x.detach().appendTo(e):x.detach().insertBefore(t)},repaint:function(){w.verbose("Repainting element");C.offsetWidth},delay:function(e){var n,i=w.get.animationDirection();i||(i=w.can.transition()?w.get.direction():"static"),e=void 0!==e?e:f.interval,n="auto"==f.reverse&&i==g.outward||1==f.reverse?(a.length-t)*f.interval:t*f.interval,w.debug("Delaying animation by",n),setTimeout(w.animate,n)},animate:function(e){if(f=e||f,!w.is.supported())return w.error(v.support),!1;if(w.debug("Preparing animation",f.animation),w.is.animating()){if(f.queue)return!f.allowRepeats&&w.has.direction()&&w.is.occurring()&&!0!==w.queuing?w.debug("Animation is currently occurring, preventing queueing same animation",f.animation):w.queue(f.animation),!1;if(!f.allowRepeats&&w.is.occurring())return w.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;w.debug("New animation started, completing previous early",f.animation),m.complete()}w.can.animate()?w.set.animating(f.animation):w.error(v.noAnimation,f.animation,C)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(e){w.debug("Queueing animation of",e),w.queuing=!0,x.one(p+".queue"+y,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,f)})},complete:function(e){w.debug("Animation complete",f.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):(w.verbose("Static animation completed"),w.restore.conditions(),f.onComplete.call(C)))},force:{visible:function(){var e=x.attr("style"),t=w.get.userStyle(),n=w.get.displayType(),i=t+"display: "+n+" !important;",a=x.css("display"),o=void 0===e||""===e;a!==n?(w.verbose("Overriding default display to show element",n),x.attr("style",i)):o&&x.removeAttr("style")},hidden:function(){var e=x.attr("style"),t=x.css("display"),n=void 0===e||""===e;"none"===t||w.is.hidden()?n&&x.removeAttr("style"):(w.verbose("Overriding default display to hide element"),x.css("display","none"))}},has:{direction:function(t){var n=!1;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==g.inward&&t!==g.outward||(n=!0)})),n},inlineDisplay:function(){var t=x.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;w.remove.completeCallback(),e=e||f.animation,t=w.get.animationClass(e),w.save.animation(t),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(t)},duration:function(e,t){((t="number"==typeof(t=t||f.duration)?t+"ms":t)||0===t)&&(w.verbose("Setting animation duration",t),x.css({"animation-duration":t}))},direction:function(e){(e=e||w.get.direction())==g.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),x.addClass(g.looping)},hidden:function(){x.addClass(g.transition).addClass(g.hidden)},inward:function(){w.debug("Setting direction to inward"),x.removeClass(g.outward).addClass(g.inward)},outward:function(){w.debug("Setting direction to outward"),x.removeClass(g.inward).addClass(g.outward)},visible:function(){x.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||w.get.animationClass(),w.debug("Starting tween",e),x.addClass(e).one(p+".complete"+y,w.complete),f.useFailSafe&&w.add.failSafe(),w.set.duration(f.duration),f.onStart.call(C)}},save:{animation:function(e){w.cache||(w.cache={}),w.cache.animation=e},displayType:function(e){"none"!==e&&x.data(h.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,w.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=w.get.currentAnimation();e&&(x.removeClass(e),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var e=w.get.duration();w.timer=setTimeout(function(){x.triggerHandler(p)},e+f.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){x.removeClass(g.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){x.off(".queue"+y)},completeCallback:function(){x.off(".complete"+y)},display:function(){x.css("display","")},direction:function(){x.removeClass(g.inward).removeClass(g.outward)},duration:function(){x.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){x.removeClass(g.hidden)},visible:function(){x.removeClass(g.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),x.removeClass(g.looping))},transition:function(){x.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return!(!w.cache||void 0===w.cache.animation)&&w.cache.animation},currentDirection:function(){return w.is.inward()?g.inward:g.outward},direction:function(){return w.is.hidden()||!w.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return"string"==typeof(t=t||f.animation)&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n||!1},duration:function(e){return!1===(e=e||f.duration)&&(e=x.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,f.displayType?f.displayType:(e&&void 0===x.data(h.displayType)&&w.can.transition(!0),x.data(h.displayType))},userStyle:function(e){return(e=e||x.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,a,o,r,s,l=f.animation,c=w.get.transitionExists(l),u=w.get.displayType(!1);if(void 0===c||t){if(w.verbose("Determining whether animation exists"),n=x.attr("class"),i=x.prop("tagName"),a=e("<"+i+" />").addClass(n).insertAfter(x),o=a.addClass(l).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),r=a.addClass(g.inward).css("animationName"),u||(u=a.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),w.verbose("Determining final display state",u),w.save.displayType(u)),a.remove(),o!=r)w.debug("Direction exists for animation",l),s=!0;else{if("none"==o||!o)return void w.debug("No animation defined in css",l);w.debug("Static animation found",l,u),s=!1}w.save.transitionExists(l,s)}return void 0!==c?c:s},animate:function(){return void 0!==w.can.transition()}},is:{animating:function(){return x.hasClass(g.animating)},inward:function(){return x.hasClass(g.inward)},outward:function(){return x.hasClass(g.outward)},looping:function(){return x.hasClass(g.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),x.filter(e).length>0},visible:function(){return x.is(":visible")},hidden:function(){return"hidden"===x.css("visibility")},supported:function(){return!1!==p}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),C.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),w.force.hidden(),f.onHide.call(C),f.onComplete.call(C)},show:function(e){w.verbose("Showing element",e),w.remove.hidden(),w.set.visible(),w.force.visible(),f.onShow.call(C),f.onComplete.call(C)},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),x.triggerHandler(p)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),x.triggerHandler(p)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),x.removeClass(g.disabled)},disable:function(){w.debug("Stopping animation"),x.addClass(g.disabled)},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];w[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,f.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),w.verbose.apply(console,arguments)))},error:function(){f.silent||(w.error=Function.prototype.bind.call(console.error,console,f.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(r||t),r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=f.name+":",n=0;r=!1,clearTimeout(w.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),a.length>1&&(t+=" ("+a.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var o,r,s,l=m;return n=n||u,a=C||a,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=o)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(r=l[i],!1);l=l[i]}})),e.isFunction(r)?s=r.apply(a,n):void 0!==r&&(s=r),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),void 0!==r&&r}}).initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var i,a=e(this),o=a.selector||"",r=(new Date).getTime(),s=[],l=arguments[0],c=arguments[1],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var f,m,v,g,h,p,b,y,w,x,C,S,T,k,A,E,L,D,F,R=e(this),O=this,I=[],q=!1;(F={initialize:function(){F.get.settings(),u?(void 0===D&&F.instantiate(),F.invoke(l)):(void 0!==D&&D.invoke("destroy"),F.verbose("Initializing form validation",R,y),F.bindEvents(),F.set.defaults(),F.instantiate())},instantiate:function(){F.verbose("Storing instance of module",F),D=F,R.data(E,F)},destroy:function(){F.verbose("Destroying previous module",D),F.removeEvents(),R.removeData(E)},refresh:function(){F.verbose("Refreshing selector cache"),f=R.find(C.field),m=R.find(C.group),v=R.find(C.message),g=R.find(C.prompt),h=R.find(C.submit),p=R.find(C.clear),b=R.find(C.reset)},submit:function(){F.verbose("Submitting form",R),R.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+L,function(e){F[n](),e.preventDefault()})},bindEvents:function(){F.verbose("Attaching form events"),R.on("submit"+L,F.validate.form).on("blur"+L,C.field,F.event.field.blur).on("click"+L,C.submit,F.submit).on("click"+L,C.reset,F.reset).on("click"+L,C.clear,F.clear),y.keyboardShortcuts&&R.on("keydown"+L,C.field,F.event.field.keydown),f.each(function(){var t=e(this),n=t.prop("type"),i=F.get.changeEvent(n,t);e(this).on(i+L,F.event.field.change)})},clear:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(m),a=i.find(C.prompt),o=t.data(x.defaultValue)||"",r=n.is(C.uiCheckbox),s=n.is(C.uiDropdown);i.hasClass(S.error)&&(F.verbose("Resetting error on field",i),i.removeClass(S.error),a.remove()),s?(F.verbose("Resetting dropdown value",n,o),n.dropdown("clear")):r?t.prop("checked",!1):(F.verbose("Resetting field value",t,o),t.val(""))})},reset:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(m),a=i.find(C.prompt),o=t.data(x.defaultValue),r=n.is(C.uiCheckbox),s=n.is(C.uiDropdown),l=i.hasClass(S.error);void 0!==o&&(l&&(F.verbose("Resetting error on field",i),i.removeClass(S.error),a.remove()),s?(F.verbose("Resetting dropdown value",n,o),n.dropdown("restore defaults")):r?(F.verbose("Resetting checkbox value",n,o),t.prop("checked",o)):(F.verbose("Resetting field value",t,o),t.val(o)))})},determine:{isValid:function(){var t=!0;return e.each(w,function(e,n){F.validate.field(n,e,!0)||(t=!1)}),t}},is:{bracketedRule:function(e){return e.type&&e.type.match(y.regExp.bracket)},shorthandFields:function(e){var t=e[Object.keys(e)[0]];return F.is.shorthandRules(t)},shorthandRules:function(t){return"string"==typeof t||e.isArray(t)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):F.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(t){var n=!0;return t?(F.verbose("Checking if field is valid",t),F.validate.field(w[t],t,!1)):(F.verbose("Checking if form is valid"),e.each(w,function(e,t){F.is.valid(e)||(n=!1)}),n)}},removeEvents:function(){R.off(L),f.off(L),h.off(L),f.off(L)},event:{field:{keydown:function(t){var n=e(this),i=t.which,a=n.is(C.input),o=n.is(C.checkbox),r=n.closest(C.uiDropdown).length>0,s={enter:13,escape:27};i==s.escape&&(F.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||i!=s.enter||!a||r||o||(q||(n.one("keyup"+L,F.event.field.keyup),F.submit(),F.debug("Enter pressed on input submitting form")),q=!0)},keyup:function(){q=!1},blur:function(t){var n=e(this),i=n.closest(m),a=F.get.validation(n);i.hasClass(S.error)?(F.debug("Revalidating field",n,a),a&&F.validate.field(a)):"blur"==y.on&&a&&F.validate.field(a)},change:function(t){var n=e(this),i=n.closest(m),a=F.get.validation(n);a&&("change"==y.on||i.hasClass(S.error)&&y.revalidate)&&(clearTimeout(F.timer),F.timer=setTimeout(function(){F.debug("Revalidating field",n,F.get.validation(n)),F.validate.field(a)},y.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!F.is.bracketedRule(e))&&(void 0!==e.value?e.value:e.type.match(y.regExp.bracket)[1]+"")},ruleName:function(e){return F.is.bracketedRule(e)?e.type.replace(e.type.match(y.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":F.get.inputEvent()},inputEvent:function(){return void 0!==n.createElement("input").oninput?"input":void 0!==n.createElement("input").onpropertychange?"propertychange":"keyup"},fieldsFromShorthand:function(t){var n={};return e.each(t,function(t,i){"string"==typeof i&&(i=[i]),n[t]={rules:[]},e.each(i,function(e,i){n[t].rules.push({type:i})})}),n},prompt:function(t,n){var i,a,o=F.get.ruleName(t),r=F.get.ancillaryValue(t),s=F.get.field(n.identifier),l=s.val(),c=e.isFunction(t.prompt)?t.prompt(l):t.prompt||y.prompt[o]||y.text.unspecifiedRule,u=-1!==c.search("{value}"),d=-1!==c.search("{name}");return u&&(c=c.replace("{value}",s.val())),d&&(a=1==(i=s.closest(C.group).find("label").eq(0)).length?i.text():s.prop("placeholder")||y.text.unspecifiedField,c=c.replace("{name}",a)),c=c.replace("{identifier}",n.identifier),c=c.replace("{ruleValue}",r),t.prompt||F.verbose("Using default validation prompt for type",c,o),c},settings:function(){if(e.isPlainObject(t)){var n=Object.keys(t);n.length>0&&(void 0!==t[n[0]].identifier&&void 0!==t[n[0]].rules)?(y=e.extend(!0,{},e.fn.form.settings,c),w=e.extend({},e.fn.form.settings.defaults,t),F.error(y.error.oldSyntax,O),F.verbose("Extending settings from legacy parameters",w,y)):(t.fields&&F.is.shorthandFields(t.fields)&&(t.fields=F.get.fieldsFromShorthand(t.fields)),y=e.extend(!0,{},e.fn.form.settings,t),w=e.extend({},e.fn.form.settings.defaults,y.fields),F.verbose("Extending settings",w,y))}else y=e.fn.form.settings,w=e.fn.form.settings.defaults,F.verbose("Using default form validation",w,y);A=y.namespace,x=y.metadata,C=y.selector,S=y.className,T=y.regExp,k=y.error,E="module-"+A,L="."+A,D=R.data(E),F.refresh()},field:function(t){return F.verbose("Finding field with identifier",t),t=F.escape.string(t),f.filter("#"+t).length>0?f.filter("#"+t):f.filter('[name="'+t+'"]').length>0?f.filter('[name="'+t+'"]'):f.filter('[name="'+t+'[]"]').length>0?f.filter('[name="'+t+'[]"]'):f.filter("[data-"+x.validate+'="'+t+'"]').length>0?f.filter("[data-"+x.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(F.get.field(t))}),n},validation:function(t){var n,i;return!!w&&(e.each(w,function(e,a){i=a.identifier||e,F.get.field(i)[0]==t[0]&&(a.identifier=i,n=a)}),n||!1)},value:function(e){var t=[];return t.push(e),F.get.values.call(O,t)[e]},values:function(t){var n={};return(e.isArray(t)?F.get.fields(t):f).each(function(t,i){var a=e(i),o=(a.prop("type"),a.prop("name")),r=a.val(),s=a.is(C.checkbox),l=a.is(C.radio),c=-1!==o.indexOf("[]"),u=!!s&&a.is(":checked");o&&(c?(o=o.replace("[]",""),n[o]||(n[o]=[]),s?u?n[o].push(r||!0):n[o].push(!1):n[o].push(r)):l?void 0!==n[o]&&0!=n[o]||(n[o]=!!u&&(r||!0)):n[o]=s?!!u&&(r||!0):r)}),n}},has:{field:function(e){return F.verbose("Checking for existence of a field with identifier",e),"string"!=typeof(e=F.escape.string(e))&&F.error(k.identifier,e),f.filter("#"+e).length>0||(f.filter('[name="'+e+'"]').length>0||f.filter("[data-"+x.validate+'="'+e+'"]').length>0)}},escape:{string:function(e){return(e=String(e)).replace(T.escape,"\\$&")}},add:{rule:function(e,t){F.add.field(e,t)},field:function(t,n){var i={};F.is.shorthandRules(n)?(n=e.isArray(n)?n:[n],i[t]={rules:[]},e.each(n,function(e,n){i[t].rules.push({type:n})})):i[t]=n,w=e.extend({},w,i),F.debug("Adding rules",i,w)},fields:function(t){var n;n=t&&F.is.shorthandFields(t)?F.get.fieldsFromShorthand(t):t,w=e.extend({},w,n)},prompt:function(t,n){var i=F.get.field(t).closest(m),a=i.children(C.prompt),o=0!==a.length;n="string"==typeof n?[n]:n,F.verbose("Adding field error state",t),i.addClass(S.error),y.inline&&(o||(a=y.templates.prompt(n)).appendTo(i),a.html(n[0]),o?F.verbose("Inline errors are disabled, no inline error added",t):y.transition&&void 0!==e.fn.transition&&R.transition("is supported")?(F.verbose("Displaying error with css transition",y.transition),a.transition(y.transition+" in",y.duration)):(F.verbose("Displaying error with fallback javascript animation"),a.fadeIn(y.duration)))},errors:function(e){F.debug("Adding form error messages",e),F.set.error(),v.html(y.templates.error(e))}},remove:{rule:function(t,n){var i=e.isArray(n)?n:[n];if(void 0==n)return F.debug("Removed all rules"),void(w[t].rules=[]);void 0!=w[t]&&e.isArray(w[t].rules)&&e.each(w[t].rules,function(e,n){-1!==i.indexOf(n.type)&&(F.debug("Removed rule",n.type),w[t].rules.splice(e,1))})},field:function(t){var n=e.isArray(t)?t:[t];e.each(n,function(e,t){F.remove.rule(t)})},rules:function(t,n){e.isArray(t)?e.each(fields,function(e,t){F.remove.rule(t,n)}):F.remove.rule(t,n)},fields:function(e){F.remove.field(e)},prompt:function(t){var n=F.get.field(t).closest(m),i=n.children(C.prompt);n.removeClass(S.error),y.inline&&i.is(":visible")&&(F.verbose("Removing prompt for field",t),y.transition&&void 0!==e.fn.transition&&R.transition("is supported")?i.transition(y.transition+" out",y.duration,function(){i.remove()}):i.fadeOut(y.duration,function(){i.remove()}))}},set:{success:function(){R.removeClass(S.error).addClass(S.success)},defaults:function(){f.each(function(){var t=e(this),n=t.filter(C.checkbox).length>0?t.is(":checked"):t.val();t.data(x.defaultValue,n)})},error:function(){R.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,F.set.values.call(O,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,a=F.get.field(t),o=a.parent(),r=e.isArray(n),s=o.is(C.uiCheckbox),l=o.is(C.uiDropdown),c=a.is(C.radio)&&s;a.length>0&&(r&&s?(F.verbose("Selecting multiple",n,a),o.checkbox("uncheck"),e.each(n,function(e,t){i=a.filter('[value="'+t+'"]'),o=i.parent(),i.length>0&&o.checkbox("check")})):c?(F.verbose("Selecting radio value",n,a),a.filter('[value="'+n+'"]').parent(C.uiCheckbox).checkbox("check")):s?(F.verbose("Setting checkbox value",n,o),!0===n?o.checkbox("check"):o.checkbox("uncheck")):l?(F.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(F.verbose("Setting field value",n,a),a.val(n)))})}},validate:{form:function(e,t){var n=F.get.values();if(q)return!1;if(I=[],F.determine.isValid()){if(F.debug("Form has no validation errors, submitting"),F.set.success(),!0!==t)return y.onSuccess.call(O,e,n)}else if(F.debug("Form has errors"),F.set.error(),y.inline||F.add.errors(I),void 0!==R.data("moduleApi")&&e.stopImmediatePropagation(),!0!==t)return y.onFailure.call(O,I,n)},field:function(t,n,i){i=void 0===i||i,"string"==typeof t&&(F.verbose("Validating field",t),n=t,t=w[t]);var a=t.identifier||n,o=F.get.field(a),r=!!t.depends&&F.get.field(t.depends),s=!0,l=[];return t.identifier||(F.debug("Using field name as identifier",a),t.identifier=a),o.prop("disabled")?(F.debug("Field is disabled. Skipping",a),s=!0):t.optional&&F.is.blank(o)?(F.debug("Field is optional and blank. Skipping",a),s=!0):t.depends&&F.is.empty(r)?(F.debug("Field depends on another value that is not present or empty. Skipping",r),s=!0):void 0!==t.rules&&e.each(t.rules,function(e,n){F.has.field(a)&&!F.validate.rule(t,n)&&(F.debug("Field is invalid",a,n.type),l.push(F.get.prompt(n,t)),s=!1)}),s?(i&&(F.remove.prompt(a,l),y.onValid.call(o)),!0):(i&&(I=I.concat(l),F.add.prompt(a,l),y.onInvalid.call(o,l)),!1)},rule:function(t,n){var i=F.get.field(t.identifier),a=(n.type,i.val()),o=F.get.ancillaryValue(n),r=F.get.ruleName(n),s=y.rules[r];{if(e.isFunction(s))return a=void 0===a||""===a||null===a?"":e.trim(a+""),s.call(i,a,o);F.error(k.noRule,r)}}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,F,t);else{if(void 0===n)return F[t];F[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?F.performance.log(arguments):(F.debug=Function.prototype.bind.call(console.info,console,y.name+":"),F.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?F.performance.log(arguments):(F.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),F.verbose.apply(console,arguments)))},error:function(){y.silent||(F.error=Function.prototype.bind.call(console.error,console,y.name+":"),F.error.apply(console,arguments))},performance:{log:function(e){var t,n;y.performance&&(n=(t=(new Date).getTime())-(r||t),r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(F.performance.timer),F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var t=y.name+":",n=0;r=!1,clearTimeout(F.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),a.length>1&&(t+=" ("+a.length+")"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var o,r,s,l=D;return n=n||d,a=O||a,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=o)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]&&(r=l[i],!1);l=l[i]}})),e.isFunction(r)?s=r.apply(a,n):void 0!==r&&(s=r),e.isArray(i)?i.push(s):void 0!==i?i=[i,s]:void 0!==s&&(i=s),r}}).initialize()}),void 0!==i?i:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{htmlID:/^[a-zA-Z][\w:.-]*$/g,bracket:/\[(.*)\]/i,decimal:/^\d+\.?\d*$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} must contain "{ruleValue}"',containExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain  "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(void 0===t||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var i,a=n.match(e.fn.form.settings.regExp.flags);return a&&(n=a.length>=2?a[1]:n,i=a.length>=3?a[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var i,a,o,r=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?r.test(n)&&(i=a=n-0):(o=n.split("..",2),r.test(o[0])&&(i=o[0]-0),r.test(o[1])&&(a=o[1]-0))),r.test(t)&&(void 0===i||t>=i)&&(void 0===a||t<=a)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return void 0!==e&&e.length>=t},length:function(e,t){return void 0!==e&&e.length>=t},exactLength:function(e,t){return void 0!==e&&e.length==t},maxLength:function(e,t){return void 0!==e&&e.length<=t},match:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()==i.toString()},different:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),void 0!==i&&t.toString()!==i.toString()},creditCard:function(t,n){var i,a,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},s=!1,l="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(t=t.replace(/[\-]/g,""),l&&(e.each(l,function(n,i){(a=o[i])&&(r={length:-1!==e.inArray(t.length,a.length),pattern:-1!==t.search(a.pattern)}).length&&r.pattern&&(s=!0)}),!s))return!1;if((i={number:-1!==e.inArray(t.length,o.unionPay.length),pattern:-1!==t.search(o.unionPay.pattern)}).number&&i.pattern)return!0;for(var c=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],f=0;c--;)f+=d[u][parseInt(t.charAt(c),10)],u^=1;return f%10==0&&f>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],function(){return e.Snackbar=t()}):"object"==typeof module&&module.exports?module.exports=e.Snackbar=t():e.Snackbar=t()}(this,function(){var e={};e.current=null;var t={text:"Default Text",textColor:"#FFFFFF",width:"auto",showAction:!0,actionText:"Dismiss",actionTextColor:"#4CAF50",showSecondButton:!1,secondButtonText:"",secondButtonTextColor:"#4CAF50",backgroundColor:"#323232",pos:"bottom-left",duration:5e3,customClass:"",onActionClick:function(e){e.style.opacity=0},onSecondButtonClick:function(e){},onClose:function(e){}};e.show=function(i){var a=n(!0,t,i);e.current&&(e.current.style.opacity=0,setTimeout(function(){var e=this.parentElement;e&&e.removeChild(this)}.bind(e.current),500)),e.snackbar=document.createElement("div"),e.snackbar.className="snackbar-container "+a.customClass,e.snackbar.style.width=a.width;var o=document.createElement("p");if(o.style.margin=0,o.style.padding=0,o.style.color=a.textColor,o.style.fontSize="14px",o.style.fontWeight=300,o.style.lineHeight="1em",o.innerHTML=a.text,e.snackbar.appendChild(o),e.snackbar.style.background=a.backgroundColor,a.showSecondButton){var r=document.createElement("button");r.className="action",r.innerHTML=a.secondButtonText,r.style.color=a.secondButtonTextColor,r.addEventListener("click",function(){a.onSecondButtonClick(e.snackbar)}),e.snackbar.appendChild(r)}if(a.showAction){var s=document.createElement("button");s.className="action",s.innerHTML=a.actionText,s.style.color=a.actionTextColor,s.addEventListener("click",function(){a.onActionClick(e.snackbar)}),e.snackbar.appendChild(s)}a.duration&&setTimeout(function(){e.current===this&&(e.current.style.opacity=0,e.current.style.top="-100px",e.current.style.bottom="-100px")}.bind(e.snackbar),a.duration),e.snackbar.addEventListener("transitionend",function(t,n){"opacity"===t.propertyName&&"0"===this.style.opacity&&("function"==typeof a.onClose&&a.onClose(this),this.parentElement.removeChild(this),e.current===this&&(e.current=null))}.bind(e.snackbar)),e.current=e.snackbar,document.body.appendChild(e.snackbar);getComputedStyle(e.snackbar).bottom,getComputedStyle(e.snackbar).top;e.snackbar.style.opacity=1,e.snackbar.className="snackbar-container "+a.customClass+" snackbar-pos "+a.pos},e.close=function(){e.current&&(e.current.style.opacity=0)};var n=function(){var e={},t=!1,i=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(;i<a;i++)!function(i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t&&"[object Object]"===Object.prototype.toString.call(i[a])?e[a]=n(!0,e[a],i[a]):e[a]=i[a])}(arguments[i]);return e};return e}),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var a,o=e(this),r=e(n),s=o.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),u=[],d=arguments[0],f="string"==typeof d,m=[].slice.call(arguments,1);return o.each(function(v){var g,h,p,b,y,w,x,C,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),T=S.className,k=S.message,A=S.fields,E=S.keys,L=S.metadata,D=S.namespace,F=S.regExp,R=S.selector,O=S.error,I=S.templates,q="."+D,V="module-"+D,P=e(this),j=e(S.context),$=P.find(R.text),z=P.find(R.search),M=P.find(R.sizer),N=P.find(R.input),H=P.find(R.icon),U=P.prev().find(R.text).length>0?P.prev().find(R.text):P.prev(),B=P.children(R.menu),W=B.find(R.item),K=!1,Q=!1,_=!1,Y=this,X=P.data(V);C={initialize:function(){C.debug("Initializing dropdown",S),C.is.alreadySetup()?C.setup.reference():(C.setup.layout(),S.values&&C.change.values(S.values),C.refreshData(),C.save.defaults(),C.restore.selected(),C.create.id(),C.bind.events(),C.observeChanges(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of dropdown",C),X=C,P.data(V,C)},destroy:function(){C.verbose("Destroying previous dropdown",P),C.remove.tabbable(),P.off(q).removeData(V),B.off(q),r.off(b),C.disconnect.menuObserver(),C.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(w=new MutationObserver(C.event.select.mutation),x=new MutationObserver(C.event.menu.mutation),C.debug("Setting up mutation observer",w,x),C.observe.select(),C.observe.menu())},disconnect:{menuObserver:function(){x&&x.disconnect()},selectObserver:function(){w&&w.disconnect()}},observe:{select:function(){C.has.input()&&w.observe(P[0],{childList:!0,subtree:!0})},menu:function(){C.has.menu()&&x.observe(B[0],{childList:!0,subtree:!0})}},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,C.verbose("Creating unique id for element",y)},userChoice:function(t){var n,i,a;return!!(t=t||C.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,o){!1===C.get.item(o)&&(a=S.templates.addition(C.add.variables(k.addResult,o)),i=e("<div />").html(a).attr("data-"+L.value,o).attr("data-"+L.text,o).addClass(T.addition).addClass(T.item),S.hideAdditions&&i.addClass(T.hidden),n=void 0===n?i:n.add(i),C.verbose("Creating user choices for value",o,i))}),n)},userLabels:function(t){var n=C.get.userValues();n&&(C.debug("Adding user labels",n),e.each(n,function(e,t){C.verbose("Adding custom user value"),C.add.label(t,t)}))},menu:function(){B=e("<div />").addClass(T.menu).appendTo(P)},sizer:function(){M=e("<span />").addClass(T.sizer).insertAfter(z)}},search:function(e){e=void 0!==e?e:C.get.query(),C.verbose("Searching for query",e),C.has.minCharacters(e)?C.filter(e):C.hide()},select:{firstUnfiltered:function(){C.verbose("Selecting first non-filtered element"),C.remove.selectedItem(),W.not(R.unselectable).not(R.addition+R.hidden).eq(0).addClass(T.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(R.item).not(R.unselectable).eq(0),n=e.prevAll(R.item).not(R.unselectable).eq(0);t.length>0?(C.verbose("Moving selection to",t),t.addClass(T.selected)):(C.verbose("Moving selection to",n),n.addClass(T.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:C.get.value(),query:C.get.query()},on:!1};C.verbose("First request, initializing API"),P.api(e)},layout:function(){P.is("select")&&(C.setup.select(),C.setup.returnedObject()),C.has.menu()||C.create.menu(),C.is.search()&&!C.has.search()&&(C.verbose("Adding search input"),z=e("<input />").addClass(T.search).prop("autocomplete","off").insertBefore($)),C.is.multiple()&&C.is.searchSelection()&&!C.has.sizer()&&C.create.sizer(),S.allowTab&&C.set.tabbable()},select:function(){var t=C.get.selectValues();C.debug("Dropdown initialized on a select",t),P.is("select")&&(N=P),N.parent(R.dropdown).length>0?(C.debug("UI dropdown already exists. Creating dropdown menu only"),P=N.closest(R.dropdown),C.has.menu()||C.create.menu(),B=P.children(R.menu),C.setup.menu(t)):(C.debug("Creating entire dropdown from select"),P=e("<div />").attr("class",N.attr("class")).addClass(T.selection).addClass(T.dropdown).html(I.dropdown(t)).insertBefore(N),N.hasClass(T.multiple)&&!1===N.prop("multiple")&&(C.error(O.missingMultiple),N.prop("multiple",!0)),N.is("[multiple]")&&C.set.multiple(),N.prop("disabled")&&(C.debug("Disabling dropdown"),P.addClass(T.disabled)),N.removeAttr("class").detach().prependTo(P)),C.refresh()},menu:function(e){B.html(I.menu(e,A)),W=B.find(R.item)},reference:function(){C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),P=P.parent(R.dropdown),X=P.data(V),Y=P.get(0),C.refresh(),C.setup.returnedObject()},returnedObject:function(){var e=o.slice(0,v),t=o.slice(v+1);o=e.add(P).add(t)}},refresh:function(){C.refreshSelectors(),C.refreshData()},refreshItems:function(){W=B.find(R.item)},refreshSelectors:function(){C.verbose("Refreshing selector cache"),$=P.find(R.text),z=P.find(R.search),N=P.find(R.input),H=P.find(R.icon),U=P.prev().find(R.text).length>0?P.prev().find(R.text):P.prev(),B=P.children(R.menu),W=B.find(R.item)},refreshData:function(){C.verbose("Refreshing cached metadata"),W.removeData(L.text).removeData(L.value)},clearData:function(){C.verbose("Clearing metadata"),W.removeData(L.text).removeData(L.value),P.removeData(L.defaultText).removeData(L.defaultValue).removeData(L.placeholderText)},toggle:function(){C.verbose("Toggling menu visibility"),C.is.active()?C.hide():C.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!C.can.show()&&C.is.remote()&&(C.debug("No API results retrieved, searching before show"),C.queryRemote(C.get.query(),C.show)),C.can.show()&&!C.is.active()){if(C.debug("Showing dropdown"),!C.has.message()||C.has.maxSelections()||C.has.allResultsFiltered()||C.remove.message(),C.is.allFiltered())return!0;!1!==S.onShow.call(Y)&&C.animate.show(function(){C.can.click()&&C.bind.intent(),C.has.menuSearch()&&C.focusSearch(),C.set.visible(),t.call(Y)})}},hide:function(t){t=e.isFunction(t)?t:function(){},C.is.active()&&!C.is.animatingOutward()&&(C.debug("Hiding dropdown"),!1!==S.onHide.call(Y)&&C.animate.hide(function(){C.remove.visible(),t.call(Y)}))},hideOthers:function(){C.verbose("Finding other dropdowns to hide"),o.not(P).has(R.menu+"."+T.visible).dropdown("hide")},hideMenu:function(){C.verbose("Hiding menu  instantaneously"),C.remove.active(),C.remove.visible(),B.transition("hide")},hideSubMenus:function(){var e=B.children(R.item).find(R.menu);C.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&C.bind.touchEvents(),C.bind.keyboardEvents(),C.bind.inputEvents(),C.bind.mouseEvents()},touchEvents:function(){C.debug("Touch device detected binding additional touch events"),C.is.searchSelection()||C.is.single()&&P.on("touchstart"+q,C.event.test.toggle),B.on("touchstart"+q,R.item,C.event.item.mouseenter)},keyboardEvents:function(){C.verbose("Binding keyboard events"),P.on("keydown"+q,C.event.keydown),C.has.search()&&P.on(C.get.inputEvent()+q,R.search,C.event.input),C.is.multiple()&&r.on("keydown"+b,C.event.document.keydown)},inputEvents:function(){C.verbose("Binding input change events"),P.on("change"+q,R.input,C.event.change)},mouseEvents:function(){C.verbose("Binding mouse events"),C.is.multiple()&&P.on("click"+q,R.label,C.event.label.click).on("click"+q,R.remove,C.event.remove.click),C.is.searchSelection()?(P.on("mousedown"+q,C.event.mousedown).on("mouseup"+q,C.event.mouseup).on("mousedown"+q,R.menu,C.event.menu.mousedown).on("mouseup"+q,R.menu,C.event.menu.mouseup).on("click"+q,R.icon,C.event.icon.click).on("focus"+q,R.search,C.event.search.focus).on("click"+q,R.search,C.event.search.focus).on("blur"+q,R.search,C.event.search.blur).on("click"+q,R.text,C.event.text.focus),C.is.multiple()&&P.on("click"+q,C.event.click)):("click"==S.on?P.on("click"+q,C.event.test.toggle):"hover"==S.on?P.on("mouseenter"+q,C.delay.show).on("mouseleave"+q,C.delay.hide):P.on(S.on+q,C.toggle),P.on("click"+q,R.icon,C.event.icon.click).on("mousedown"+q,C.event.mousedown).on("mouseup"+q,C.event.mouseup).on("focus"+q,C.event.focus),C.has.menuSearch()?P.on("blur"+q,R.search,C.event.search.blur):P.on("blur"+q,C.event.blur)),B.on("mouseenter"+q,R.item,C.event.item.mouseenter).on("mouseleave"+q,R.item,C.event.item.mouseleave).on("click"+q,R.item,C.event.item.click)},intent:function(){C.verbose("Binding hide intent event to document"),l&&r.on("touchstart"+b,C.event.test.touch).on("touchmove"+b,C.event.test.touch),r.on("click"+b,C.event.test.hide)}},unbind:{intent:function(){C.verbose("Removing hide intent event from document"),l&&r.off("touchstart"+b).off("touchmove"+b),r.off("click"+b)}},filter:function(e){var t=void 0!==e?e:C.get.query(),n=function(){C.is.multiple()&&C.filterActive(),(e||!e&&0==C.get.activeItem().length)&&C.select.firstUnfiltered(),C.has.allResultsFiltered()?S.onNoResults.call(Y,t)?S.allowAdditions?S.hideAdditions&&(C.verbose("User addition with no menu, setting empty style"),C.set.empty(),C.hideMenu()):(C.verbose("All items filtered, showing message",t),C.add.message(k.noResults)):(C.verbose("All items filtered, hiding dropdown",t),C.hideMenu()):(C.remove.empty(),C.remove.message()),S.allowAdditions&&C.add.userSuggestion(e),C.is.searchSelection()&&C.can.show()&&C.is.focusedOnSearch()&&C.show()};S.useLabels&&C.has.maxSelections()||(S.apiSettings?C.can.useAPI()?C.queryRemote(t,function(){S.filterRemoteData&&C.filterItems(t),n()}):C.error(O.noAPI):(C.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:S.throttle,urlData:{query:t},onError:function(){C.add.message(k.serverError),n()},onFailure:function(){C.add.message(k.serverError),n()},onSuccess:function(t){var i=t[A.remoteValues];e.isArray(i)&&i.length>0?(C.remove.message(),C.setup.menu({values:t[A.remoteValues]})):C.add.message(k.noResults),n()}};P.api("get request")||C.setup.api(),i=e.extend(!0,{},i,S.apiSettings),P.api("setting",i).api("query")},filterItems:function(t){var n=void 0!==t?t:C.get.query(),i=null,a=C.escape.string(n),o=new RegExp("^"+a,"igm");C.has.query()&&(i=[],C.verbose("Searching for matching values",n),W.each(function(){var t,a,r=e(this);if("both"==S.match||"text"==S.match){if(-1!==(t=String(C.get.choiceText(r,!1))).search(o))return i.push(this),!0;if("exact"===S.fullTextSearch&&C.exactSearch(n,t))return i.push(this),!0;if(!0===S.fullTextSearch&&C.fuzzySearch(n,t))return i.push(this),!0}if("both"==S.match||"value"==S.match){if(-1!==(a=String(C.get.choiceValue(r,t))).search(o))return i.push(this),!0;if("exact"===S.fullTextSearch&&C.exactSearch(n,a))return i.push(this),!0;if(!0===S.fullTextSearch&&C.fuzzySearch(n,a))return i.push(this),!0}})),C.debug("Showing only matched items",n),C.remove.filteredItem(),i&&W.not(i).addClass(T.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var a=0,o=0;a<i;a++){for(var r=e.charCodeAt(a);o<n;)if(t.charCodeAt(o++)===r)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},filterActive:function(){S.useLabels&&W.filter("."+T.active).addClass(T.filtered)},focusSearch:function(e){C.has.search()&&!C.is.focusedOnSearch()&&(e?(P.off("focus"+q,R.search),z.focus(),P.on("focus"+q,R.search,C.event.search.focus)):z.focus())},forceSelection:function(){var e=W.not(T.filtered).filter("."+T.selected).eq(0),t=W.not(T.filtered).filter("."+T.active).eq(0),n=e.length>0?e:t;if(n.length>0&&!C.is.multiple())return C.debug("Forcing partial selection to selected item",n),void C.event.item.click.call(n,{},!0);S.allowAdditions?(C.set.selected(C.get.query()),C.remove.searchTerm()):C.remove.searchTerm()},change:{values:function(t){S.allowAdditions||C.clear(),C.debug("Creating dropdown with specified values",t),C.setup.menu({values:t}),e.each(t,function(e,t){if(1==t.selected)return C.debug("Setting initial selection to",t.value),C.set.selected(t.value),!0})}},event:{change:function(){_||(C.debug("Input changed, updating selection"),C.set.selected())},focus:function(){S.showOnFocus&&!K&&C.is.hidden()&&!h&&C.show()},blur:function(e){h=n.activeElement===this,K||h||(C.remove.activeLabel(),C.hide())},mousedown:function(){C.is.searchSelection()?p=!0:K=!0},mouseup:function(){C.is.searchSelection()?p=!1:K=!1},click:function(t){e(t.target).is(P)&&(C.is.focusedOnSearch()?C.show():C.focusSearch())},search:{focus:function(){K=!0,C.is.multiple()&&C.remove.activeLabel(),S.showOnFocus&&C.search()},blur:function(e){h=n.activeElement===this,C.is.searchSelection()&&!p&&(Q||h||(S.forceSelection&&C.forceSelection(),C.hide())),p=!1}},icon:{click:function(e){H.hasClass(T.clear)?C.clear():C.can.click()&&C.toggle()}},text:{focus:function(e){K=!0,C.focusSearch()}},input:function(e){(C.is.multiple()||C.is.searchSelection())&&C.set.filtered(),clearTimeout(C.timer),C.timer=setTimeout(C.search,S.delay.search)},label:{click:function(t){var n=e(this),i=P.find(R.label),a=i.filter("."+T.active),o=n.nextAll("."+T.active),r=n.prevAll("."+T.active),s=o.length>0?n.nextUntil(o).add(a).add(n):n.prevUntil(r).add(a).add(n);t.shiftKey?(a.removeClass(T.active),s.addClass(T.active)):t.ctrlKey?n.toggleClass(T.active):(a.removeClass(T.active),n.addClass(T.active)),S.onLabelSelect.apply(this,i.filter("."+T.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(T.active)?C.remove.activeLabels():C.remove.activeLabels(t)}},test:{toggle:function(e){var t=C.is.multiple()?C.show:C.toggle;C.is.bubbledLabelClick(e)||C.is.bubbledIconClick(e)||C.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){C.determine.eventOnElement(e,function(){"touchstart"==e.type?C.timer=setTimeout(function(){C.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(C.timer)}),e.stopPropagation()},hide:function(e){C.determine.eventInModule(e,C.hide)}},select:{mutation:function(t){C.debug("<select> modified, recreating menu");var n=!1;e.each(t,function(t,i){if(e(i.target).is("select")||e(i.addedNodes).is("select"))return n=!0,!0}),n&&(C.disconnect.selectObserver(),C.refresh(),C.setup.select(),C.set.selected(),C.observe.select())}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),a=e(n.removedNodes?n.removedNodes[0]:!1),o=i.add(a),r=o.is(R.addition)||o.closest(R.addition).length>0,s=o.is(R.message)||o.closest(R.message).length>0;r||s?(C.debug("Updating item selector cache"),C.refreshItems()):(C.debug("Menu modified, updating selector cache"),C.refresh())},mousedown:function(){Q=!0},mouseup:function(){Q=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),a=i.children(R.menu),o=i.siblings(R.item).children(R.menu),r=a.length>0;!(a.find(n).length>0)&&r&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Showing sub-menu",a),e.each(o,function(){C.animate.hide(!1,e(this))}),C.animate.show(!1,a)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(R.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Hiding sub-menu",n),C.animate.hide(!1,n)},S.delay.hide))},click:function(t,i){var a=e(this),o=e(t?t.target:""),r=a.find(R.menu),s=C.get.choiceText(a),l=C.get.choiceValue(a,s),c=r.length>0,u=r.find(o).length>0;C.has.menuSearch()&&e(n.activeElement).blur(),u||c&&!S.allowCategorySelection||(C.is.searchSelection()&&(S.allowAdditions&&C.remove.userAddition(),C.remove.searchTerm(),C.is.focusedOnSearch()||1==i||C.focusSearch(!0)),S.useLabels||(C.remove.filteredItem(),C.set.scrollPosition(a)),C.determine.selectAction.call(this,s,l))}},document:{keydown:function(e){var t=e.which;if(C.is.inObject(t,E)){var n=P.find(R.label),i=n.filter("."+T.active),a=(i.data(L.value),n.index(i)),o=n.length,r=i.length>0,s=i.length>1,l=0===a,c=a+1==o,u=C.is.searchSelection(),d=C.is.focusedOnSearch(),f=C.is.focused(),m=d&&0===C.get.caretPosition();if(u&&!r&&!d)return;t==E.leftArrow?!f&&!m||r?r&&(e.shiftKey?C.verbose("Adding previous label to selection"):(C.verbose("Selecting previous label"),n.removeClass(T.active)),l&&!s?i.addClass(T.active):i.prev(R.siblingLabel).addClass(T.active).end(),e.preventDefault()):(C.verbose("Selecting previous label"),n.last().addClass(T.active)):t==E.rightArrow?(f&&!r&&n.first().addClass(T.active),r&&(e.shiftKey?C.verbose("Adding next label to selection"):(C.verbose("Selecting next label"),n.removeClass(T.active)),c?u?d?n.removeClass(T.active):C.focusSearch():s?i.next(R.siblingLabel).addClass(T.active):i.addClass(T.active):i.next(R.siblingLabel).addClass(T.active),e.preventDefault())):t==E.deleteKey||t==E.backspace?r?(C.verbose("Removing active labels"),c&&u&&!d&&C.focusSearch(),i.last().next(R.siblingLabel).addClass(T.active),C.remove.activeLabels(i),e.preventDefault()):m&&!r&&t==E.backspace&&(C.verbose("Removing last label on input backspace"),i=n.last().addClass(T.active),C.remove.activeLabels(i)):i.removeClass(T.active)}}},keydown:function(e){var t=e.which;if(C.is.inObject(t,E)){var n,i=W.not(R.unselectable).filter("."+T.selected).eq(0),a=B.children("."+T.active).eq(0),o=i.length>0?i:a,r=o.length>0?o.siblings(":not(."+T.filtered+")").addBack():B.children(":not(."+T.filtered+")"),s=o.children(R.menu),l=o.closest(R.menu),c=l.hasClass(T.visible)||l.hasClass(T.animating)||l.parent(R.menu).length>0,u=s.length>0,d=o.length>0,f=o.not(R.unselectable).length>0,m=t==E.delimiter&&S.allowAdditions&&C.is.multiple();if(S.allowAdditions&&S.hideAdditions&&(t==E.enter||m)&&f&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),C.is.visible()){if((t==E.enter||m)&&(t==E.enter&&d&&u&&!S.allowCategorySelection?(C.verbose("Pressed enter on unselectable category, opening sub menu"),t=E.rightArrow):f&&(C.verbose("Selecting item from keyboard shortcut",o),C.event.item.click.call(o,e),C.is.searchSelection()&&C.remove.searchTerm()),e.preventDefault()),d&&(t==E.leftArrow&&l[0]!==B[0]&&(C.verbose("Left key pressed, closing sub-menu"),C.animate.hide(!1,l),o.removeClass(T.selected),l.closest(R.item).addClass(T.selected),e.preventDefault()),t==E.rightArrow&&u&&(C.verbose("Right key pressed, opening sub-menu"),C.animate.show(!1,s),o.removeClass(T.selected),s.find(R.item).eq(0).addClass(T.selected),e.preventDefault())),t==E.upArrow){if(n=d&&c?o.prevAll(R.item+":not("+R.unselectable+")").eq(0):W.eq(0),r.index(n)<0)return C.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();C.verbose("Up key pressed, changing active item"),o.removeClass(T.selected),n.addClass(T.selected),C.set.scrollPosition(n),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}if(t==E.downArrow){if(0===(n=d&&c?n=o.nextAll(R.item+":not("+R.unselectable+")").eq(0):W.eq(0)).length)return C.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();C.verbose("Down key pressed, changing active item"),W.removeClass(T.selected),n.addClass(T.selected),C.set.scrollPosition(n),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),e.preventDefault()}t==E.pageUp&&(C.scrollPage("up"),e.preventDefault()),t==E.pageDown&&(C.scrollPage("down"),e.preventDefault()),t==E.escape&&(C.verbose("Escape key pressed, closing dropdown"),C.hide())}else m&&e.preventDefault(),t!=E.downArrow||C.is.visible()||(C.verbose("Down key pressed, showing dropdown"),C.show(),e.preventDefault())}else C.has.search()||C.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=N[0];t&&(C.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){C.verbose("Determining action",S.action),e.isFunction(C.action[S.action])?(C.verbose("Triggering preset action",S.action,t,n),C.action[S.action].call(Y,t,n,this)):e.isFunction(S.action)?(C.verbose("Triggering user action",S.action,t,n),S.action.call(Y,t,n,this)):C.error(O.action,S.action)},eventInModule:function(t,i){var a=e(t.target),o=a.closest(n.documentElement).length>0,r=a.closest(P).length>0;return i=e.isFunction(i)?i:function(){},o&&!r?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var a=e(t.target),o=a.closest(R.siblingLabel),r=n.body.contains(t.target),s=0===P.find(o).length,l=0===a.closest(B).length;return i=e.isFunction(i)?i:function(){},r&&s&&l?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.selected(n,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},select:function(t,n,i){if(n=void 0!==n?n:t,C.can.activate(e(i))){if(C.set.value(n,t,e(i)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},combo:function(t,n,i){n=void 0!==n?n:t,C.set.selected(n,e(i)),C.hideAndClear()},hide:function(t,n,i){C.set.value(n,t,e(i)),C.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return P.data(L.defaultText)},defaultValue:function(){return P.data(L.defaultValue)},placeholderText:function(){return"auto"!=S.placeholder&&"string"==typeof S.placeholder?S.placeholder:P.data(L.placeholderText)||""},text:function(){return $.text()},query:function(){return e.trim(z.val())},searchWidth:function(e){return e=void 0!==e?e:z.val(),M.text(e),Math.ceil(M.width()+1)},selectionCount:function(){var t=C.get.values();return C.is.multiple()?e.isArray(t)?t.length:0:""!==C.get.value()?1:0},transition:function(e){return"auto"==S.transition?C.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=C.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===C.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=z.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=N.length>0?N.val():P.data(L.value),n=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||n?"":t},values:function(){var e=C.get.value();return""===e?"":!C.has.selectInput()&&C.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=C.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=C.read.remoteData(t);C.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=void 0!==n?n:S.preserveHTML,t)return t.find(R.menu).length>0&&(C.verbose("Retrieving text of element with sub-menu"),(t=t.clone()).find(R.menu).remove(),t.find(R.menuIcon).remove()),void 0!==t.data(L.text)?t.data(L.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||C.get.choiceText(t),!!t&&(void 0!==t.data(L.value)?String(t.data(L.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=z[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],P.find("option").each(function(){var n=e(this),i=n.html(),a=n.attr("disabled"),o=void 0!==n.attr("value")?n.attr("value"):i;"auto"===S.placeholder&&""===o?t.placeholder=i:t.values.push({name:i,value:o,disabled:a})}),S.placeholder&&"auto"!==S.placeholder&&(C.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),C.debug("Retrieved and sorted values from select",t)):C.debug("Retrieved values from select",t),t},activeItem:function(){return W.filter("."+T.active)},selectedItem:function(){var e=W.not(R.unselectable).filter("."+T.selected);return e.length>0?e:W.eq(0)},itemWithAdditions:function(e){var t=C.get.item(e),n=C.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,a,o=!1;return t=void 0!==t?t:void 0!==C.get.values()?C.get.values():C.get.text(),i=a?t.length>0:void 0!==t&&null!==t,a=C.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),i&&W.each(function(){var i=e(this),r=C.get.choiceText(i),s=C.get.choiceValue(i,r);if(null!==s&&void 0!==s)if(a)-1===e.inArray(String(s),t)&&-1===e.inArray(r,t)||(o=o?o.add(i):i);else if(n){if(C.verbose("Ambiguous dropdown value using strict type check",i,t),s===t||r===t)return o=i,!0}else if(String(s)==String(t)||r==t)return C.verbose("Found select item by value",s,t),o=i,!0}),o}},check:{maxSelections:function(e){return!S.maxSelections||(e=void 0!==e?e:C.get.selectionCount(),e>=S.maxSelections?(C.debug("Maximum selection count reached"),S.useLabels&&(W.addClass(T.filtered),C.add.message(k.maxSelections)),!0):(C.verbose("No longer at maximum selection count"),C.remove.message(),C.remove.filteredItem(),C.is.searchSelection()&&C.filterItems(),!1))}},restore:{defaults:function(){C.clear(),C.restore.defaultText(),C.restore.defaultValue()},defaultText:function(){var e=C.get.defaultText();e===C.get.placeholderText?(C.debug("Restoring default placeholder text",e),C.set.placeholderText(e)):(C.debug("Restoring default text",e),C.set.text(e))},placeholderText:function(){C.set.placeholderText()},defaultValue:function(){var e=C.get.defaultValue();void 0!==e&&(C.debug("Restoring default value",e),""!==e?(C.set.value(e),C.set.selected()):(C.remove.activeItem(),C.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(C.error(O.labels),S.useLabels=!0),C.debug("Restoring selected values"),C.create.userLabels()),C.check.maxSelections()},selected:function(){C.restore.values(),C.is.multiple()?(C.debug("Restoring previously selected values and labels"),C.restore.labels()):C.debug("Restoring previously selected values")},values:function(){C.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&C.get.remoteValues()?C.restore.remoteValues():C.set.selected(),C.remove.initialLoad()},remoteValues:function(){var t=C.get.remoteValues();C.debug("Recreating selected from session data",t),t&&(C.is.single()?e.each(t,function(e,t){C.set.text(t)}):e.each(t,function(e,t){C.add.label(e,t)}))}},read:{remoteData:function(e){var n;{if(void 0!==t.Storage)return void 0!==(n=sessionStorage.getItem(e))&&n;C.error(O.noStorage)}}},save:{defaults:function(){C.save.defaultText(),C.save.placeholderText(),C.save.defaultValue()},defaultValue:function(){var e=C.get.value();C.verbose("Saving default value as",e),P.data(L.defaultValue,e)},defaultText:function(){var e=C.get.text();C.verbose("Saving default text as",e),P.data(L.defaultText,e)},placeholderText:function(){var e;!1!==S.placeholder&&$.hasClass(T.placeholder)&&(e=C.get.text(),C.verbose("Saving placeholder text as",e),P.data(L.placeholderText,e))},remoteData:function(e,n){void 0!==t.Storage?(C.verbose("Saving remote data to session storage",n,e),sessionStorage.setItem(n,e)):C.error(O.noStorage)}},clear:function(){C.is.multiple()&&S.useLabels?C.remove.labels():(C.remove.activeItem(),C.remove.selectedItem()),C.set.placeholderText(),C.clearValue()},clearValue:function(){C.set.value("")},scrollPage:function(e,t){var n,i,a=t||C.get.selectedItem(),o=a.closest(R.menu),r=o.outerHeight(),s=o.scrollTop(),l=W.eq(0).outerHeight(),c=Math.floor(r/l),u=(o.prop("scrollHeight"),"up"==e?s-l*c:s+l*c),d=W.not(R.unselectable);i="up"==e?d.index(a)-c:d.index(a)+c,(n=("up"==e?i>=0:i<d.length)?d.eq(i):"up"==e?d.first():d.last()).length>0&&(C.debug("Scrolling page",e,n),a.removeClass(T.selected),n.addClass(T.selected),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(n),o.scrollTop(u))},set:{filtered:function(){var e=C.is.multiple(),t=C.is.searchSelection(),n=e&&t,i=t?C.get.query():"",a="string"==typeof i&&i.length>0,o=C.get.searchWidth(),r=""!==i;e&&a&&(C.verbose("Adjusting input width",o,S.glyphWidth),z.css("width",o)),a||n&&r?(C.verbose("Hiding placeholder text"),$.addClass(T.filtered)):(!e||n&&!r)&&(C.verbose("Showing placeholder text"),$.removeClass(T.filtered))},empty:function(){P.addClass(T.empty)},loading:function(){P.addClass(T.loading)},placeholderText:function(e){e=e||C.get.placeholderText(),C.debug("Setting placeholder text",e),C.set.text(e),$.addClass(T.placeholder)},tabbable:function(){C.is.searchSelection()?(C.debug("Added tabindex to searchable dropdown"),z.val("").attr("tabindex",0),B.attr("tabindex",-1)):(C.debug("Added tabindex to dropdown"),void 0===P.attr("tabindex")&&(P.attr("tabindex",0),B.attr("tabindex",-1)))},initialLoad:function(){C.verbose("Setting initial load"),g=!0},activeItem:function(e){S.allowAdditions&&e.filter(R.addition).length>0?e.addClass(T.filtered):e.addClass(T.active)},partialSearch:function(e){var t=C.get.query().length;z.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,a,o,r,s;n=(e=e||C.get.selectedItem()).closest(R.menu),i=e&&e.length>0,t=void 0!==t&&t,e&&n.length>0&&i&&(e.position().top,n.addClass(T.loading),a=(o=n.scrollTop())-n.offset().top+e.offset().top,t||(s=o+n.height()<a+5,r=a-5<o),C.debug("Scrolling to active item",a),(t||r||s)&&n.scrollTop(a),n.removeClass(T.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(C.debug("Changing combo button text",e,U),S.preserveHTML?U.html(e):U.text(e)):(e!==C.get.placeholderText()&&$.removeClass(T.placeholder),C.debug("Changing text",e,$),$.removeClass(T.filtered),S.preserveHTML?$.html(e):$.text(e)))},selectedItem:function(e){var t=C.get.choiceValue(e),n=C.get.choiceText(e,!1),i=C.get.choiceText(e,!0);C.debug("Setting user selection to item",e),C.remove.activeItem(),C.set.partialSearch(n),C.set.activeItem(e),C.set.selected(t,e),C.set.text(i)},selectedLetter:function(t){var n,i=W.filter("."+T.selected),a=!1;i.length>0&&C.has.firstLetter(i,t)&&(n=i.nextAll(W).eq(0),C.has.firstLetter(n,t)&&(a=n)),a||W.each(function(){if(C.has.firstLetter(e(this),t))return a=e(this),!1}),a&&(C.verbose("Scrolling to next value with letter",t),C.set.scrollPosition(a),i.removeClass(T.selected),a.addClass(T.selected),S.selectOnKeydown&&C.is.single()&&C.set.selectedItem(a))},direction:function(e){"auto"==S.direction?(C.remove.upward(),C.can.openDownward(e)?C.remove.upward(e):C.set.upward(e),C.is.leftward(e)||C.can.openRightward(e)||C.set.leftward(e)):"upward"==S.direction&&C.set.upward(e)},upward:function(e){(e||P).addClass(T.upward)},leftward:function(e){(e||B).addClass(T.leftward)},value:function(e,t,n){var i=C.escape.value(e),a=N.length>0,o=C.get.values(),r=void 0!==e?String(e):e;if(a){if(!S.allowReselection&&r==o&&(C.verbose("Skipping value update already same value",e,o),!C.is.initialLoad()))return;C.is.single()&&C.has.selectInput()&&C.can.extendSelect()&&(C.debug("Adding user option",e),C.add.optionValue(e)),C.debug("Updating input value",i,o),_=!0,N.val(i),!1===S.fireOnInit&&C.is.initialLoad()?C.debug("Input native change event ignored on initial load"):C.trigger.change(),_=!1}else C.verbose("Storing value in metadata",i,N),i!==o&&P.data(L.value,r);C.is.single()&&S.clearable&&(i?C.set.clearable():C.remove.clearable()),!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onChange):S.onChange.call(Y,e,t,n)},active:function(){P.addClass(T.active)},multiple:function(){P.addClass(T.multiple)},visible:function(){P.addClass(T.visible)},exactly:function(e,t){C.debug("Setting selected to exact values"),C.clear(),C.set.selected(e,t)},selected:function(t,n){var i=C.is.multiple();(n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t))&&(C.debug("Setting selected menu item to",n),C.is.multiple()&&C.remove.searchWidth(),C.is.single()?(C.remove.activeItem(),C.remove.selectedItem()):S.useLabels&&C.remove.selectedItem(),n.each(function(){var t=e(this),a=C.get.choiceText(t),o=C.get.choiceValue(t,a),r=t.hasClass(T.filtered),s=t.hasClass(T.active),l=t.hasClass(T.addition),c=i&&1==n.length;i?!s||l?(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(a,o),S.useLabels?(C.add.label(o,a,c),C.add.value(o,a,t),C.set.activeItem(t),C.filterActive(),C.select.nextAvailable(n)):(C.add.value(o,a,t),C.set.text(C.add.variables(k.count)),C.set.activeItem(t))):r||(C.debug("Selected active value, removing label"),C.remove.selected(o)):(S.apiSettings&&S.saveRemoteData&&C.save.remoteData(a,o),C.set.text(a),C.set.value(o,a,t),t.addClass(T.active).addClass(T.selected))}))},clearable:function(){H.addClass(T.clear)}},add:{label:function(t,n,i){var a,o=C.is.searchSelection()?z:$,r=C.escape.value(t);S.ignoreCase&&(r=r.toLowerCase()),a=e("<a />").addClass(T.label).attr("data-"+L.value,r).html(I.label(r,n)),a=S.onLabelCreate.call(a,r,n),C.has.label(t)?C.debug("User selection already exists, skipping",r):(S.label.variation&&a.addClass(S.label.variation),!0===i?(C.debug("Animating in label",a),a.addClass(T.hidden).insertBefore(o).transition(S.label.transition,S.label.duration)):(C.debug("Adding selection label",a),a.insertBefore(o)))},message:function(t){var n=B.children(R.message),i=S.templates.message(C.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(T.message).appendTo(B)},optionValue:function(t){var n=C.escape.value(t);N.find('option[value="'+C.escape.string(n)+'"]').length>0||(C.disconnect.selectObserver(),C.is.single()&&(C.verbose("Removing previous user addition"),N.find("option."+T.addition).remove()),e("<option/>").prop("value",n).addClass(T.addition).html(t).appendTo(N),C.verbose("Adding user addition as an <option>",t),C.observe.select())},userSuggestion:function(e){var t,n=B.children(R.addition),i=C.get.item(e),a=i&&i.not(R.addition).length,o=n.length>0;S.useLabels&&C.has.maxSelections()||(""===e||a?n.remove():(o?(n.data(L.value,e).data(L.text,e).attr("data-"+L.value,e).attr("data-"+L.text,e).removeClass(T.filtered),S.hideAdditions||(t=S.templates.addition(C.add.variables(k.addResult,e)),n.html(t)),C.verbose("Replacing user suggestion with new value",n)):((n=C.create.userChoice(e)).prependTo(B),C.verbose("Adding item choice to menu corresponding with user choice addition",n)),S.hideAdditions&&!C.is.allFiltered()||n.addClass(T.selected).siblings().removeClass(T.selected),C.refreshItems()))},variables:function(e,t){var n,i,a=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return C.verbose("Adding templated variables to message",e),a&&(n=C.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=C.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),r&&(i=t||C.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var a,o=C.get.values();C.has.value(t)?C.debug("Value already selected"):""!==t?(e.isArray(o)?(a=o.concat([t]),a=C.get.uniqueArray(a)):a=[t],C.has.selectInput()?C.can.extendSelect()&&(C.debug("Adding value to select",t,a,N),C.add.optionValue(t)):(a=a.join(S.delimiter),C.debug("Setting hidden input to delimited value",a,N)),!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call(Y,t,n,i),C.set.value(a,t,n,i),C.check.maxSelections()):C.debug("Cannot select blank values from multiselect")}},remove:{active:function(){P.removeClass(T.active)},activeLabel:function(){P.find(R.label).removeClass(T.active)},empty:function(){P.removeClass(T.empty)},loading:function(){P.removeClass(T.loading)},initialLoad:function(){g=!1},upward:function(e){(e||P).removeClass(T.upward)},leftward:function(e){(e||B).removeClass(T.leftward)},visible:function(){P.removeClass(T.visible)},activeItem:function(){W.removeClass(T.active)},filteredItem:function(){S.useLabels&&C.has.maxSelections()||(S.useLabels&&C.is.multiple()?W.not("."+T.active).removeClass(T.filtered):W.removeClass(T.filtered),C.remove.empty())},optionValue:function(e){var t=C.escape.value(e),n=N.find('option[value="'+C.escape.string(t)+'"]');n.length>0&&n.hasClass(T.addition)&&(w&&(w.disconnect(),C.verbose("Temporarily disconnecting mutation observer")),n.remove(),C.verbose("Removing user addition as an <option>",t),w&&w.observe(N[0],{childList:!0,subtree:!0}))},message:function(){B.children(R.message).remove()},searchWidth:function(){z.css("width","")},searchTerm:function(){C.verbose("Cleared search term"),z.val(""),C.set.filtered()},userAddition:function(){W.filter(R.addition).remove()},selected:function(t,n){if(!(n=S.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t)))return!1;n.each(function(){var t=e(this),n=C.get.choiceText(t),i=C.get.choiceValue(t,n);C.is.multiple()?S.useLabels?(C.remove.value(i,n,t),C.remove.label(i)):(C.remove.value(i,n,t),0===C.get.selectionCount()?C.set.placeholderText():C.set.text(C.add.variables(k.count))):C.remove.value(i,n,t),t.removeClass(T.filtered).removeClass(T.active),S.useLabels&&t.removeClass(T.selected)})},selectedItem:function(){W.removeClass(T.selected)},value:function(e,t,n){var i,a=C.get.values();C.has.selectInput()?(C.verbose("Input is <select> removing selected option",e),i=C.remove.arrayValue(e,a),C.remove.optionValue(e)):(C.verbose("Removing from delimited values",e),i=(i=C.remove.arrayValue(e,a)).join(S.delimiter)),!1===S.fireOnInit&&C.is.initialLoad()?C.verbose("No callback on initial load",S.onRemove):S.onRemove.call(Y,e,t,n),C.set.value(i,t,n),C.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),C.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=P.find(R.label).filter("[data-"+L.value+'="'+C.escape.string(e)+'"]');C.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||P.find(R.label).filter("."+T.active),C.verbose("Removing active label selections",e),C.remove.labels(e)},labels:function(t){t=t||P.find(R.label),C.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(L.value),i=void 0!==n?String(n):n,a=C.is.userValue(i);!1!==S.onLabelRemove.call(t,n)?(C.remove.message(),a?(C.remove.value(i),C.remove.label(i)):C.remove.selected(i)):C.debug("Label remove callback cancelled removal")})},tabbable:function(){C.is.searchSelection()?(C.debug("Searchable dropdown initialized"),z.removeAttr("tabindex"),B.removeAttr("tabindex")):(C.debug("Simple selection dropdown initialized"),P.removeAttr("tabindex"),B.removeAttr("tabindex"))},clearable:function(){H.removeClass(T.clear)}},has:{menuSearch:function(){return C.has.search()&&z.closest(B).length>0},search:function(){return z.length>0},sizer:function(){return M.length>0},selectInput:function(){return N.is("select")},minCharacters:function(e){return!S.minCharacters||(e=void 0!==e?String(e):String(C.get.query())).length>=S.minCharacters},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=C.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return N.length>0},items:function(){return W.length>0},menu:function(){return B.length>0},message:function(){return 0!==B.children(R.message).length},label:function(e){var t=C.escape.value(e),n=P.find(R.label);return S.ignoreCase&&(t=t.toLowerCase()),n.filter("[data-"+L.value+'="'+C.escape.string(t)+'"]').length>0},maxSelections:function(){return S.maxSelections&&C.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=W.not(R.addition);return e.filter(R.unselectable).length===e.length},userSuggestion:function(){return B.children(R.addition).length>0},query:function(){return""!==C.get.query()},value:function(e){return S.ignoreCase?C.has.valueIgnoringCase(e):C.has.valueMatchingCase(e)},valueMatchingCase:function(t){var n=C.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)},valueIgnoringCase:function(t){var n=C.get.values(),i=!1;return e.isArray(n)||(n=[n]),e.each(n,function(e,n){if(String(t).toLowerCase()==String(n).toLowerCase())return i=!0,!1}),i}},is:{active:function(){return P.hasClass(T.active)},animatingInward:function(){return B.transition("is inward")},animatingOutward:function(){return B.transition("is outward")},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&P.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(H).length>0},alreadySetup:function(){return P.is("select")&&void 0!==P.parent(R.dropdown).data(V)&&0===P.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):B.transition&&B.transition("is animating")},leftward:function(e){return(e||B).hasClass(T.leftward)},disabled:function(){return P.hasClass(T.disabled)},focused:function(){return n.activeElement===P[0]},focusedOnSearch:function(){return n.activeElement===z[0]},allFiltered:function(){return(C.is.multiple()||C.has.search())&&!(0==S.hideAdditions&&C.has.userSuggestion())&&!C.has.message()&&C.has.allResultsFiltered()},hidden:function(e){return!C.is.visible(e)},initialLoad:function(){return g},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return P.hasClass(T.multiple)},remote:function(){return S.apiSettings&&C.can.useAPI()},single:function(){return!C.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return P.hasClass(T.search)},searchSelection:function(){return C.has.search()&&1===z.parent(R.dropdown).length},selection:function(){return P.hasClass(T.selection)},userValue:function(t){return-1!==e.inArray(t,C.get.userValues())},upward:function(e){return(e||P).hasClass(T.upward)},visible:function(e){return e?e.hasClass(T.visible):B.hasClass(T.visible)},verticallyScrollableContext:function(){var e=j.get(0)!==t&&j.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=j.get(0)!==t&&j.css("overflow-X");return"auto"==e||"scroll"==e}},can:{activate:function(e){return!!S.useLabels||(!C.has.maxSelections()||!(!C.has.maxSelections()||!e.hasClass(T.active)))},openDownward:function(e){var n,i=e||B,a=!0,o={};return i.addClass(T.loading),n={context:{offset:j.get(0)===t?{top:0,left:0}:j.offset(),scrollTop:j.scrollTop(),height:j.outerHeight()},menu:{offset:i.offset(),height:i.outerHeight()}},C.is.verticallyScrollableContext()&&(n.menu.offset.top+=n.context.scrollTop),o={above:n.context.scrollTop<=n.menu.offset.top-n.context.offset.top-n.menu.height,below:n.context.scrollTop+n.context.height>=n.menu.offset.top-n.context.offset.top+n.menu.height},o.below?(C.verbose("Dropdown can fit in context downward",o),a=!0):o.below||o.above?(C.verbose("Dropdown cannot fit below, opening upward",o),a=!1):(C.verbose("Dropdown cannot fit in either direction, favoring downward",o),a=!0),i.removeClass(T.loading),a},openRightward:function(e){var n,i=e||B,a=!0,o=!1;return i.addClass(T.loading),n={context:{offset:j.get(0)===t?{top:0,left:0}:j.offset(),scrollLeft:j.scrollLeft(),width:j.outerWidth()},menu:{offset:i.offset(),width:i.outerWidth()}},C.is.horizontallyScrollableContext()&&(n.menu.offset.left+=n.context.scrollLeft),(o=n.menu.offset.left-n.context.offset.left+n.menu.width>=n.context.scrollLeft+n.context.width)&&(C.verbose("Dropdown cannot fit in context rightward",o),a=!1),i.removeClass(T.loading),a},click:function(){return l||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!C.is.disabled()&&(C.has.items()||C.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,n){var i,a=n||B,o=n?function(){}:function(){C.hideSubMenus(),C.hideOthers(),C.set.active()};t=e.isFunction(t)?t:function(){},C.verbose("Doing menu show animation",a),C.set.direction(n),i=C.get.transition(n),C.is.selection()&&C.set.scrollPosition(C.get.selectedItem(),!0),(C.is.hidden(a)||C.is.animating(a))&&("none"==i?(o(),a.transition("show"),t.call(Y)):void 0!==e.fn.transition&&P.transition("is supported")?a.transition({animation:i+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:o,onComplete:function(){t.call(Y)}}):C.error(O.noTransition,i))},hide:function(t,n){var i=n||B,a=(n?S.duration:S.duration,n?function(){}:function(){C.can.click()&&C.unbind.intent(),C.remove.active()}),o=C.get.transition(n);t=e.isFunction(t)?t:function(){},(C.is.visible(i)||C.is.animating(i))&&(C.verbose("Doing menu hide animation",i),"none"==o?(a(),i.transition("hide"),t.call(Y)):void 0!==e.fn.transition&&P.transition("is supported")?i.transition({animation:o+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!1,onStart:a,onComplete:function(){t.call(Y)}}):C.error(O.transition))}},hideAndClear:function(){C.remove.searchTerm(),C.has.maxSelections()||(C.has.search()?C.hide(function(){C.remove.filteredItem()}):C.hide())},delay:{show:function(){C.verbose("Delaying show event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.show,S.delay.show)},hide:function(){C.verbose("Delaying hide event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,a=!i&&!n,o=i&&-1!==t.search(F.quote),r=[];return a||!o?t:(C.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){r.push(t.replace(F.quote,"&quot;"))}),r):t.replace(F.quote,"&quot;"))},string:function(e){return(e=String(e)).replace(F.escape,"\\$&")}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===n)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===n)return C[t];C[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){S.silent||(C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n;S.performance&&(n=(t=(new Date).getTime())-(c||t),c=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:Y,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=S.name+":",n=0;c=!1,clearTimeout(C.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var o,r,s,l=X;return n=n||m,i=Y||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=o)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[i])||n==o)return void 0!==l[i]?(r=l[i],!1):(C.error(O.method,t),!1);l=l[i]}})),e.isFunction(r)?s=r.apply(i,n):void 0!==r&&(s=r),e.isArray(a)?a.push(s):void 0!==a?a=[a,s]:void 0!==s&&(a=s),r}},f?(void 0===X&&C.initialize(),C.invoke(d)):(void 0!==X&&X.invoke("destroy"),C.initialize())}),void 0!==a?a:o},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",clear:"clear",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},a="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",o=t[n.disabled]?"disabled ":"";a+='<div class="'+o+'item" data-value="'+t[n.value]+'"'+i+">",a+=t[n.name],a+="</div>"}),a},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document);